import{x as _t}from"./main-B9SA16tL.js";function wt(T,s){for(var A=0;A<s.length;A++){const x=s[A];if(typeof x!="string"&&!Array.isArray(x)){for(const i in x)if(i!=="default"&&!(i in T)){const S=Object.getOwnPropertyDescriptor(x,i);S&&Object.defineProperty(T,i,S.get?S:{enumerable:!0,get:()=>x[i]})}}}return Object.freeze(Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}))}var fe={},ae={},Ve={},Le;function yt(){return Le||(Le=1,(function(){var T={},s="";try{s=location.hash.toString()}catch{}var A=J(s),x=ue("initParams");if(x)for(var i in x)typeof A[i]>"u"&&(A[i]=x[i]);K("initParams",A);var S=!1,j;try{if(S=window.parent!=null&&window!=window.parent,S){window.addEventListener("message",function(l){if(l.source===window.parent){try{var c=JSON.parse(l.data)}catch{return}if(!(!c||!c.eventType))if(c.eventType=="set_custom_style")l.origin==="https://web.telegram.org"&&(j.innerHTML=c.eventData);else if(c.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else O(c.eventType,c.eventData)}}),j=document.createElement("style"),document.head.appendChild(j);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function W(l){try{return l=l.replace(/\+/g,"%20"),decodeURIComponent(l)}catch{return l}}function J(l){l=l.replace(/^#/,"");var c={};if(!l.length)return c;if(l.indexOf("=")<0&&l.indexOf("?")<0)return c._path=W(l),c;var b=l.indexOf("?");if(b>=0){var g=l.substr(0,b);c._path=W(g),l=l.substr(b+1)}var B=_(l);for(var q in B)c[q]=B[q];return c}function _(l){var c={};if(!l.length)return c;var b=l.split("&"),g,B,q,L;for(g=0;g<b.length;g++)B=b[g].split("="),q=W(B[0]),L=B[1]==null?null:W(B[1]),c[q]=L;return c}function se(l,c){var b=l.indexOf("#");if(b<0)return l+"#"+c;var g=l.substr(b+1);return g.indexOf("=")>=0||g.indexOf("?")>=0?l+"&"+c:g.length>0?l+"?"+c:l+c}function le(l,c,b){if(c||(c=function(){}),b===void 0&&(b=""),console.log("[Telegram.WebView] > postEvent",l,b),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(l,JSON.stringify(b)),c();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:l,eventData:b})),c();else if(S)try{var g="https://web.telegram.org";g="*",window.parent.postMessage(JSON.stringify({eventType:l,eventData:b}),g),c()}catch(B){c(B)}else c({notAvailable:!0})}function O(l,c){console.log("[Telegram.WebView] < receiveEvent",l,c),pe(l,function(b){b(l,c)})}function pe(l,c){var b=T[l];if(!(b===void 0||!b.length))for(var g=0;g<b.length;g++)try{c(b[g])}catch{}}function V(l,c){T[l]===void 0&&(T[l]=[]);var b=T[l].indexOf(c);b===-1&&T[l].push(c)}function de(l,c){if(T[l]!==void 0){var b=T[l].indexOf(c);b!==-1&&T[l].splice(b,1)}}function K(l,c){try{return window.sessionStorage.setItem("__telegram__"+l,JSON.stringify(c)),!0}catch{}return!1}function ue(l){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+l))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:A,isIframe:S,onEvent:V,offEvent:de,postEvent:le,receiveEvent:O,callEventCallbacks:pe},window.Telegram.Utils={urlSafeDecode:W,urlParseQueryString:_,urlParseHashParams:J,urlAppendHashParams:se,sessionStorageSet:K,sessionStorageGet:ue},window.TelegramGameProxy_receiveEvent=O,window.TelegramGameProxy={receiveEvent:O}})(),(function(){var T=window.Telegram.Utils,s=window.Telegram.WebView,A=s.initParams,x=s.isIframe,i={},S="",j={},W={},J="light",_="6.0",se="unknown";if(A.tgWebAppData&&A.tgWebAppData.length){S=A.tgWebAppData,j=T.urlParseQueryString(S);for(var le in j){var O=j[le];try{(O.substr(0,1)=="{"&&O.substr(-1)=="}"||O.substr(0,1)=="["&&O.substr(-1)=="]")&&(j[le]=JSON.parse(O))}catch{}}}if(A.tgWebAppThemeParams&&A.tgWebAppThemeParams.length){var pe=A.tgWebAppThemeParams;try{var V=JSON.parse(pe);V&&be(V)}catch{}}var V=T.sessionStorageGet("themeParams");V&&be(V),A.tgWebAppVersion&&(_=A.tgWebAppVersion),A.tgWebAppPlatform&&(se=A.tgWebAppPlatform);function de(e,t){t.theme_params&&(be(t.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),_e(),we(),ye(),g("themeChanged"))}var K=window.innerHeight;function ue(e,t){t.height&&(window.removeEventListener("resize",l),ge(t))}function l(e){K!=window.innerHeight&&(K=window.innerHeight,g("viewportChanged",{isStateStable:!0}))}function c(e){if(!(e.metaKey||e.ctrlKey)){for(var t=e.target;t.tagName!="A"&&t.parentNode;)t=t.parentNode;t.tagName=="A"&&t.target!="_blank"&&(t.protocol=="http:"||t.protocol=="https:")&&t.hostname=="t.me"&&(i.openTgLink(t.href),e.preventDefault())}}function b(e){return e.toString().replace(/^\s+|\s+$/g,"")}function g(e){var t=Array.prototype.slice.call(arguments);e=t.shift(),s.callEventCallbacks("webview:"+e,function(r){r.apply(i,t)})}function B(e,t){s.onEvent("webview:"+e,t)}function q(e,t){s.offEvent("webview:"+e,t)}function L(e,t){var r=document.documentElement;r&&r.style&&r.style.setProperty&&r.style.setProperty("--tg-"+e,t)}function be(e){e.bg_color=="#1c1c1d"&&e.bg_color==e.secondary_bg_color&&(e.secondary_bg_color="#2c2c2e");var t;for(var r in e)(t=z(e[r]))&&(W[r]=t,r=="bg_color"&&(J=Ye(t)?"dark":"light",L("color-scheme",J)),r="theme-"+r.split("_").join("-"),L(r,t));T.sessionStorageSet("themeParams",W)}var M={};function Pe(e){for(var t=100;--t;){for(var r="",o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=o.length,d=0;d<e;d++)r+=o[Math.floor(Math.random()*n)];if(!M[r])return M[r]={},r}throw Error("WebAppCallbackIdGenerateFailed")}var $=!1,X=!1,ke=!0;function ge(e){typeof e<"u"&&(ke=!!e.is_expanded,$=e.height,e.is_state_stable&&(X=e.height),g("viewportChanged",{isStateStable:!!e.is_state_stable}));var t,r;$!==!1?t=$-C+"px":t=C?"calc(100vh - "+C+"px)":"100vh",X!==!1?r=X-C+"px":r=C?"calc(100vh - "+C+"px)":"100vh",L("viewport-height",t),L("viewport-stable-height",r)}var ve=!1;function ze(e){if(!m("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+_);return}ve=!!e,s.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:ve})}var me=!0;function Ge(e){if(!m("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+_);return}me=!!e,s.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:me})}var F="bg_color",Z=null;function Ke(){return F=="secondary_bg_color"?W.secondary_bg_color:F=="bg_color"?W.bg_color:Z}function $e(e){if(!m("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+_);return}m("6.9")||(W.bg_color&&W.bg_color==e?e="bg_color":W.secondary_bg_color&&W.secondary_bg_color==e&&(e="secondary_bg_color"));var t=null,r=null;if(e=="bg_color"||e=="secondary_bg_color")r=e;else if(m("6.9")&&(t=z(e),!t))throw console.error("[Telegram.WebApp] Header color format is invalid",e),Error("WebAppHeaderColorInvalid");if(!m("6.9")&&r!="bg_color"&&r!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",e),Error("WebAppHeaderColorKeyInvalid");F=r,Z=t,_e()}var Be=null,he=null;function _e(){(Be!=F||he!=Z)&&(Be=F,he=Z,he?s.postEvent("web_app_set_header_color",!1,{color:Z}):s.postEvent("web_app_set_header_color",!1,{color_key:F}))}var ce="bg_color";function Ce(){return ce=="secondary_bg_color"?W.secondary_bg_color:ce=="bg_color"?W.bg_color:ce}function Xe(e){if(!m("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+_);return}var t;if(e=="bg_color"||e=="secondary_bg_color")t=e;else if(t=z(e),!t)throw console.error("[Telegram.WebApp] Background color format is invalid",e),Error("WebAppBackgroundColorInvalid");ce=t,we()}var xe=null;function we(){var e=Ce();xe!=e&&(xe=e,s.postEvent("web_app_set_background_color",!1,{color:e}))}var Y="bottom_bar_bg_color";function D(){return Y=="bottom_bar_bg_color"?W.bottom_bar_bg_color||W.secondary_bg_color||"#ffffff":Y=="secondary_bg_color"?W.secondary_bg_color:Y=="bg_color"?W.bg_color:Y}function Ze(e){if(!m("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+_);return}var t;if(e=="bg_color"||e=="secondary_bg_color"||e=="bottom_bar_bg_color")t=e;else if(t=z(e),!t)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",e),Error("WebAppBottomBarColorInvalid");Y=t,ye(),window.Telegram.WebApp.SecondaryButton.setParams({})}var Se=null;function ye(){var e=D();Se!=e&&(Se=e,s.postEvent("web_app_set_bottom_bar_color",!1,{color:e})),A.tgWebAppDebug&&Me()}function z(e){e+="";var t;if(t=/^\s*#([0-9a-f]{6})\s*$/i.exec(e))return"#"+t[1].toLowerCase();if(t=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(e))return("#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]).toLowerCase();if(t=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(e)){var r=parseInt(t[1]),o=parseInt(t[2]),n=parseInt(t[3]);return r=(r<16?"0":"")+r.toString(16),o=(o<16?"0":"")+o.toString(16),n=(n<16?"0":"")+n.toString(16),"#"+r+o+n}return!1}function Ye(e){e=e.replace(/[\s#]/g,""),e.length==3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16),n=Math.sqrt(.299*(t*t)+.587*(r*r)+.114*(o*o));return n<120}function De(e,t){typeof e!="string"&&(e=""),typeof t!="string"&&(t=""),e=e.replace(/^\s+|\s+$/g,"").split("."),t=t.replace(/^\s+|\s+$/g,"").split(".");var r=Math.max(e.length,t.length),o,n,d;for(o=0;o<r;o++)if(n=parseInt(e[o])||0,d=parseInt(t[o])||0,n!=d)return n>d?1:-1;return 0}function m(e){return De(_,e)>=0}function et(e){if(window.Blob)try{return new Blob([e]).size}catch{}for(var t=e.length,r=e.length-1;r>=0;r--){var o=e.charCodeAt(r);o>127&&o<=2047?t++:o>2047&&o<=65535&&(t+=2),o>=56320&&o<=57343&&r--}return t}var tt=(function(){var e=!1,t={};Object.defineProperty(t,"isVisible",{set:function(u){w({is_visible:u})},get:function(){return e},enumerable:!0});var r=null;s.onEvent("back_button_pressed",o);function o(){g("backButtonClicked")}function n(){return{is_visible:e}}function d(u){return typeof u>"u"&&(u=n()),JSON.stringify(u)}function h(){return m("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+_),!1)}function f(){var u=n(),y=d(u);r!==y&&(r=y,s.postEvent("web_app_setup_back_button",!1,u))}function w(u){return h()&&(typeof u.is_visible<"u"&&(e=!!u.is_visible),f()),t}return t.onClick=function(u){return h()&&B("backButtonClicked",u),t},t.offClick=function(u){return h()&&q("backButtonClicked",u),t},t.show=function(){return w({is_visible:!0})},t.hide=function(){return w({is_visible:!1})},t})(),I=null,Ae={},C=0;if(A.tgWebAppDebug){I=document.createElement("tg-bottom-bar");var Ie={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:D(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var Oe in Ie)I.style[Oe]=Ie[Oe];document.addEventListener("DOMContentLoaded",function e(t){document.removeEventListener("DOMContentLoaded",e),document.body.appendChild(I)});var qe=document.createElement("style");qe.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',I.appendChild(qe)}function Me(){var e=Ae.main._bottomButton,t=Ae.secondary._bottomButton;e.isVisible||t.isVisible?(I.style.display="flex",C=58,e.isVisible&&t.isVisible&&(t.position=="top"?(I.style.flexDirection="column-reverse",C+=51):t.position=="bottom"?(I.style.flexDirection="column",C+=51):t.position=="left"?I.style.flexDirection="row-reverse":t.position=="right"&&(I.style.flexDirection="row"))):(I.style.display="none",C=0),I.style.background=D(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=C+"px"),ge()}var je=function(e){var t=e=="main";if(t)var r="web_app_setup_main_button",o="main_button_pressed",n="mainButtonClicked",d="Continue",h=function(){return W.button_color||"#2481cc"},f=function(){return W.button_text_color||"#ffffff"};else var r="web_app_setup_secondary_button",o="secondary_button_pressed",n="secondaryButtonClicked",d="Cancel",h=function(){return D()},f=function(){return W.button_color||"#2481cc"};var w=!1,u=!0,y=!1,k=!1,Te=e,ne=d,ie=!1,R=!1,N="left",p={};Object.defineProperty(p,"type",{get:function(){return Te},enumerable:!0}),Object.defineProperty(p,"text",{set:function(a){p.setParams({text:a})},get:function(){return ne},enumerable:!0}),Object.defineProperty(p,"color",{set:function(a){p.setParams({color:a})},get:function(){return ie||h()},enumerable:!0}),Object.defineProperty(p,"textColor",{set:function(a){p.setParams({text_color:a})},get:function(){return R||f()},enumerable:!0}),Object.defineProperty(p,"isVisible",{set:function(a){p.setParams({is_visible:a})},get:function(){return w},enumerable:!0}),Object.defineProperty(p,"isProgressVisible",{get:function(){return k},enumerable:!0}),Object.defineProperty(p,"isActive",{set:function(a){p.setParams({is_active:a})},get:function(){return u},enumerable:!0}),Object.defineProperty(p,"hasShineEffect",{set:function(a){p.setParams({has_shine_effect:a})},get:function(){return y},enumerable:!0}),t||Object.defineProperty(p,"position",{set:function(a){p.setParams({position:a})},get:function(){return N},enumerable:!0});var E=null;s.onEvent(o,Ue);var v=null;if(A.tgWebAppDebug){v=document.createElement("tg-bottom-button");var P={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var H in P)v.style[H]=P[H];I.appendChild(v),v.addEventListener("click",Ue,!1),v._bottomButton=p,Ae[e]=v}function Ue(){u&&g(n)}function Ne(){var a=p.color,U=p.textColor;if(w){var G={is_visible:!0,is_active:u,is_progress_visible:k,text:ne,color:a,text_color:U,has_shine_effect:y&&u&&!k};t||(G.position=N)}else var G={is_visible:!1};return G}function vt(a){return typeof a>"u"&&(a=Ne()),JSON.stringify(a)}function Ee(){var a=Ne(),U=vt(a);E!==U&&(E=U,s.postEvent(r,!1,a),A.tgWebAppDebug&&mt(a))}function mt(a){a.is_visible?(v.style.display="block",v.style.opacity=a.is_active?"1":"0.8",v.style.cursor=a.is_active?"pointer":"auto",v.disabled=!a.is_active,v.innerText=a.text,v.className=a.has_shine_effect?"shine":"",v.style.backgroundImage=a.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+a.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",v.style.backgroundColor=a.color,v.style.color=a.text_color):v.style.display="none",Me()}function ht(a){if(typeof a.text<"u"){var U=b(a.text);if(!U.length)throw console.error("[Telegram.WebApp] Bottom button text is required",a.text),Error("WebAppBottomButtonParamInvalid");if(U.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",U),Error("WebAppBottomButtonParamInvalid");ne=U}if(typeof a.color<"u")if(a.color===!1||a.color===null)ie=!1;else{var G=z(a.color);if(!G)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",a.color),Error("WebAppBottomButtonParamInvalid");ie=G}if(typeof a.text_color<"u")if(a.text_color===!1||a.text_color===null)R=!1;else{var He=z(a.text_color);if(!He)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",a.text_color),Error("WebAppBottomButtonParamInvalid");R=He}if(typeof a.is_visible<"u"){if(a.is_visible&&!p.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");w=!!a.is_visible}if(typeof a.has_shine_effect<"u"&&(y=!!a.has_shine_effect),!t&&typeof a.position<"u"){if(a.position!="left"&&a.position!="right"&&a.position!="top"&&a.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",a.position),Error("WebAppBottomButtonParamInvalid");N=a.position}return typeof a.is_active<"u"&&(u=!!a.is_active),Ee(),p}return p.setText=function(a){return p.setParams({text:a})},p.onClick=function(a){return B(n,a),p},p.offClick=function(a){return q(n,a),p},p.show=function(){return p.setParams({is_visible:!0})},p.hide=function(){return p.setParams({is_visible:!1})},p.enable=function(){return p.setParams({is_active:!0})},p.disable=function(){return p.setParams({is_active:!1})},p.showProgress=function(a){return u=!!a,k=!0,Ee(),p},p.hideProgress=function(){return p.isActive||(u=!0),k=!1,Ee(),p},p.setParams=ht,p},rt=je("main"),ot=je("secondary"),Re=(function(){var e=!1,t={};Object.defineProperty(t,"isVisible",{set:function(u){w({is_visible:u})},get:function(){return e},enumerable:!0});var r=null;s.onEvent("settings_button_pressed",o);function o(){g("settingsButtonClicked")}function n(){return{is_visible:e}}function d(u){return typeof u>"u"&&(u=n()),JSON.stringify(u)}function h(){return m("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+_),!1)}function f(){var u=n(),y=d(u);r!==y&&(r=y,s.postEvent("web_app_setup_settings_button",!1,u))}function w(u){return h()&&(typeof u.is_visible<"u"&&(e=!!u.is_visible),f()),t}return t.onClick=function(u){return h()&&B("settingsButtonClicked",u),t},t.offClick=function(u){return h()&&q("settingsButtonClicked",u),t},t.show=function(){return w({is_visible:!0})},t.hide=function(){return w({is_visible:!1})},t})(),nt=(function(){var e={};function t(r){if(!m("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+_),e;if(r.type=="impact"){if(r.impact_style!="light"&&r.impact_style!="medium"&&r.impact_style!="heavy"&&r.impact_style!="rigid"&&r.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",r.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(r.type=="notification"){if(r.notification_type!="error"&&r.notification_type!="success"&&r.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",r.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(r.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",r.type),Error("WebAppHapticFeedbackTypeInvalid");return s.postEvent("web_app_trigger_haptic_feedback",!1,r),e}return e.impactOccurred=function(r){return t({type:"impact",impact_style:r})},e.notificationOccurred=function(r){return t({type:"notification",notification_type:r})},e.selectionChanged=function(){return t({type:"selection_change"})},e})(),it=(function(){var e={};function t(r,o,n){if(!m("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+_),Error("WebAppMethodUnsupported");return We(r,o,n),e}return e.setItem=function(r,o,n){return t("saveStorageValue",{key:r,value:o},n)},e.getItem=function(r,o){return e.getItems([r],o?function(n,d){n?o(n):o(null,d[r])}:null)},e.getItems=function(r,o){return t("getStorageValues",{keys:r},o)},e.removeItem=function(r,o){return e.removeItems([r],o)},e.removeItems=function(r,o){return t("deleteStorageValues",{keys:r},o)},e.getKeys=function(r){return t("getStorageKeys",{},r)},e})(),at=(function(){var e=!1,t=!1,r="unknown",o=!1,n=!1,d=!1,h="",f={};Object.defineProperty(f,"isInited",{get:function(){return e},enumerable:!0}),Object.defineProperty(f,"isBiometricAvailable",{get:function(){return e&&t},enumerable:!0}),Object.defineProperty(f,"biometricType",{get:function(){return r||"unknown"},enumerable:!0}),Object.defineProperty(f,"isAccessRequested",{get:function(){return o},enumerable:!0}),Object.defineProperty(f,"isAccessGranted",{get:function(){return o&&n},enumerable:!0}),Object.defineProperty(f,"isBiometricTokenSaved",{get:function(){return d},enumerable:!0}),Object.defineProperty(f,"deviceId",{get:function(){return h||""},enumerable:!0});var w={callbacks:[]},u=!1,y=!1,k=!1;s.onEvent("biometry_info_received",Te),s.onEvent("biometry_auth_requested",ne),s.onEvent("biometry_token_updated",ie);function Te(p,E){if(e=!0,E.available?(t=!0,r=E.type||"unknown",E.access_requested?(o=!0,n=!!E.access_granted,d=!!E.token_saved):(o=!1,n=!1,d=!1)):(t=!1,r="unknown",o=!1,n=!1,d=!1),h=E.device_id||"",w.callbacks.length>0)for(var v=0;v<w.callbacks.length;v++){var P=w.callbacks[v];P()}if(u){var H=u;u=!1,H.callback&&H.callback(n)}g("biometricManagerUpdated")}function ne(p,E){var v=E.status=="authorized",P=E.token||"";if(y){var H=y;y=!1,H.callback&&H.callback(v,v?P:null)}g("biometricAuthRequested",v?{isAuthenticated:!0,biometricToken:P}:{isAuthenticated:!1})}function ie(p,E){var v=!1;if(t&&o&&(E.status=="updated"?(d=!0,v=!0):E.status=="removed"&&(d=!1,v=!0)),k){var P=k;k=!1,P.callback&&P.callback(v)}g("biometricTokenUpdated",{isUpdated:v})}function R(){return m("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+_),!1)}function N(){if(!e)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return f.init=function(p){return!R()||e||(p&&w.callbacks.push(p),s.postEvent("web_app_biometry_get_info",!1)),f},f.requestAccess=function(p,E){if(!R())return f;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(u)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var v={};if(typeof p.reason<"u"){var P=b(p.reason);if(P.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",P),Error("WebAppBiometricRequestAccessParamInvalid");P.length>0&&(v.reason=P)}return u={callback:E},s.postEvent("web_app_biometry_request_access",!1,v),f},f.authenticate=function(p,E){if(!R())return f;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!n)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(y)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var v={};if(typeof p.reason<"u"){var P=b(p.reason);if(P.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",P),Error("WebAppBiometricRequestAccessParamInvalid");P.length>0&&(v.reason=P)}return y={callback:E},s.postEvent("web_app_biometry_request_auth",!1,v),f},f.updateBiometricToken=function(p,E){if(!R())return f;if(p=p||"",p.length>1024)throw console.error("[Telegram.WebApp] Token is too long",p),Error("WebAppBiometricManagerTokenInvalid");if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!n)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(k)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return k={callback:E},s.postEvent("web_app_biometry_update_token",!1,{token:p}),f},f.openSettings=function(){if(!R())return f;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!o)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return n?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),f):(s.postEvent("web_app_biometry_open_settings",!1),f)},f})(),ee={};function st(e,t){if(t.slug&&ee[t.slug]){var r=ee[t.slug];delete ee[t.slug],r.callback&&r.callback(t.status),g("invoiceClosed",{url:r.url,status:t.status})}}var te=!1;function lt(e,t){if(te){var r=te;te=!1;var o=null;typeof t.button_id<"u"&&(o=t.button_id),r.callback&&r.callback(o),g("popupClosed",{button_id:o})}}var Q=!1;function pt(e,t){if(Q){var r=Q,o=null;typeof t.data<"u"&&(o=t.data),r.callback&&r.callback(o)&&(Q=!1,s.postEvent("web_app_close_scan_qr_popup",!1)),g("qrTextReceived",{data:o})}}function ut(e,t){Q=!1,g("scanQrPopupClosed")}function ct(e,t){if(t.req_id&&M[t.req_id]){var r=M[t.req_id];delete M[t.req_id];var o=null;typeof t.data<"u"&&(o=t.data),r.callback&&r.callback(o),g("clipboardTextReceived",{data:o})}}var re=!1;function ft(e,t){if(re){var r=re;re=!1,r.callback&&r.callback(t.status=="allowed"),g("writeAccessRequested",{status:t.status})}}function dt(e,t){var r,o,n=0,d=function(){We("getRequestedContact",{},function(f,w){w&&w.length?(clearTimeout(o),e(w)):(n+=50,r=setTimeout(d,n))})},h=function(){clearTimeout(r),e("")};o=setTimeout(h,t),d()}var oe=!1;function bt(e,t){if(oe){var r=oe;oe=!1;var o=t.status=="sent",n={status:t.status};o?dt(function(d){if(d&&d.length){n.response=d,n.responseUnsafe=T.urlParseQueryString(d);for(var h in n.responseUnsafe){var f=n.responseUnsafe[h];try{(f.substr(0,1)=="{"&&f.substr(-1)=="}"||f.substr(0,1)=="["&&f.substr(-1)=="]")&&(n.responseUnsafe[h]=JSON.parse(f))}catch{}}}r.callback&&r.callback(o,n),g("contactRequested",n)},3e3):(r.callback&&r.callback(o,n),g("contactRequested",n))}}function gt(e,t){if(t.req_id&&M[t.req_id]){var r=M[t.req_id];delete M[t.req_id];var o=null,n=null;typeof t.result<"u"&&(o=t.result),typeof t.error<"u"&&(n=t.error),r.callback&&r.callback(n,o)}}function We(e,t,r){if(!m("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+_),Error("WebAppMethodUnsupported");var o=Pe(16),n={req_id:o,method:e,params:t||{}};M[o]={callback:r},s.postEvent("web_app_invoke_custom_method",!1,n)}window.Telegram||(window.Telegram={}),Object.defineProperty(i,"initData",{get:function(){return S},enumerable:!0}),Object.defineProperty(i,"initDataUnsafe",{get:function(){return j},enumerable:!0}),Object.defineProperty(i,"version",{get:function(){return _},enumerable:!0}),Object.defineProperty(i,"platform",{get:function(){return se},enumerable:!0}),Object.defineProperty(i,"colorScheme",{get:function(){return J},enumerable:!0}),Object.defineProperty(i,"themeParams",{get:function(){return W},enumerable:!0}),Object.defineProperty(i,"isExpanded",{get:function(){return ke},enumerable:!0}),Object.defineProperty(i,"viewportHeight",{get:function(){return($===!1?window.innerHeight:$)-C},enumerable:!0}),Object.defineProperty(i,"viewportStableHeight",{get:function(){return(X===!1?window.innerHeight:X)-C},enumerable:!0}),Object.defineProperty(i,"isClosingConfirmationEnabled",{set:function(e){ze(e)},get:function(){return ve},enumerable:!0}),Object.defineProperty(i,"isVerticalSwipesEnabled",{set:function(e){Ge(e)},get:function(){return me},enumerable:!0}),Object.defineProperty(i,"headerColor",{set:function(e){$e(e)},get:function(){return Ke()},enumerable:!0}),Object.defineProperty(i,"backgroundColor",{set:function(e){Xe(e)},get:function(){return Ce()},enumerable:!0}),Object.defineProperty(i,"bottomBarColor",{set:function(e){Ze(e)},get:function(){return D()},enumerable:!0}),Object.defineProperty(i,"BackButton",{value:tt,enumerable:!0}),Object.defineProperty(i,"MainButton",{value:rt,enumerable:!0}),Object.defineProperty(i,"SecondaryButton",{value:ot,enumerable:!0}),Object.defineProperty(i,"SettingsButton",{value:Re,enumerable:!0}),Object.defineProperty(i,"HapticFeedback",{value:nt,enumerable:!0}),Object.defineProperty(i,"CloudStorage",{value:it,enumerable:!0}),Object.defineProperty(i,"BiometricManager",{value:at,enumerable:!0}),i.setHeaderColor=function(e){i.headerColor=e},i.setBackgroundColor=function(e){i.backgroundColor=e},i.setBottomBarColor=function(e){i.bottomBarColor=e},i.enableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!0},i.disableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!1},i.enableVerticalSwipes=function(){i.isVerticalSwipesEnabled=!0},i.disableVerticalSwipes=function(){i.isVerticalSwipesEnabled=!1},i.isVersionAtLeast=function(e){return m(e)},i.onEvent=function(e,t){B(e,t)},i.offEvent=function(e,t){q(e,t)},i.sendData=function(e){if(!e||!e.length)throw console.error("[Telegram.WebApp] Data is required",e),Error("WebAppDataInvalid");if(et(e)>4096)throw console.error("[Telegram.WebApp] Data is too long",e),Error("WebAppDataInvalid");s.postEvent("web_app_data_send",!1,{data:e})},i.switchInlineQuery=function(e,t){if(!m("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+_),Error("WebAppMethodUnsupported");if(!A.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(e=e||"",e.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",e),Error("WebAppInlineQueryInvalid");var r=[];if(t){if(!Array.isArray(t))throw console.error("[Telegram.WebApp] Choose chat types should be an array",t),Error("WebAppInlineChooseChatTypesInvalid");for(var o={users:1,bots:1,groups:1,channels:1},n=0;n<t.length;n++){var d=t[n];if(!o[d])throw console.error("[Telegram.WebApp] Choose chat type is invalid",d),Error("WebAppInlineChooseChatTypeInvalid");o[d]!=2&&(o[d]=2,r.push(d))}}s.postEvent("web_app_switch_inline_query",!1,{query:e,chat_types:r})},i.openLink=function(o,t){var r=document.createElement("A");if(r.href=o,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",o),Error("WebAppTgUrlInvalid");var o=r.href;if(t=t||{},m("6.1")){var n={url:o};m("6.4")&&t.try_instant_view&&(n.try_instant_view=!0),m("7.6")&&t.try_browser&&(n.try_browser=t.try_browser),s.postEvent("web_app_open_link",!1,n)}else window.open(o,"_blank")},i.openTelegramLink=function(e){var t=document.createElement("A");if(t.href=e,t.protocol!="http:"&&t.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");if(t.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",e),Error("WebAppTgUrlInvalid");var r=t.pathname+t.search;x||m("6.1")?s.postEvent("web_app_open_tg_link",!1,{path_full:r}):location.href="https://t.me"+r},i.openInvoice=function(e,t){var r=document.createElement("A"),o,n;if(r.href=e,r.protocol!="http:"&&r.protocol!="https:"||r.hostname!="t.me"||!(o=r.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(n=o[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",e),Error("WebAppInvoiceUrlInvalid");if(!m("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+_),Error("WebAppMethodUnsupported");if(ee[n])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");ee[n]={url:e,callback:t},s.postEvent("web_app_open_invoice",!1,{slug:n})},i.showPopup=function(e,t){if(!m("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+_),Error("WebAppMethodUnsupported");if(te)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var r="",o="",n=[],d={};if(typeof e.title<"u"){if(r=b(e.title),r.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",r),Error("WebAppPopupParamInvalid");r.length>0&&(d.title=r)}if(typeof e.message<"u"&&(o=b(e.message)),!o.length)throw console.error("[Telegram.WebApp] Popup message is required",e.message),Error("WebAppPopupParamInvalid");if(o.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",o),Error("WebAppPopupParamInvalid");if(d.message=o,typeof e.buttons<"u"){if(!Array.isArray(e.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",e.buttons),Error("WebAppPopupParamInvalid");for(var h=0;h<e.buttons.length;h++){var f=e.buttons[h],w={},u="";if(typeof f.id<"u"&&(u=f.id.toString(),u.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",u),Error("WebAppPopupParamInvalid");w.id=u;var y=f.type;if(typeof y>"u"&&(y="default"),w.type=y,!(y=="ok"||y=="close"||y=="cancel"))if(y=="default"||y=="destructive"){var k="";if(typeof f.text<"u"&&(k=b(f.text)),!k.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+y,f.text),Error("WebAppPopupParamInvalid");if(k.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",k),Error("WebAppPopupParamInvalid");w.text=k}else throw console.error("[Telegram.WebApp] Popup button type is invalid",y),Error("WebAppPopupParamInvalid");n.push(w)}}else n.push({id:"",type:"close"});if(n.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(n.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");d.buttons=n,te={callback:t},s.postEvent("web_app_open_popup",!1,d)},i.showAlert=function(e,t){i.showPopup({message:e},t?function(){t()}:null)},i.showConfirm=function(e,t){i.showPopup({message:e,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},t?function(r){t(r=="ok")}:null)},i.showScanQrPopup=function(e,t){if(!m("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+_),Error("WebAppMethodUnsupported");if(Q)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var r="",o={};if(typeof e.text<"u"){if(r=b(e.text),r.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",r),Error("WebAppScanQrPopupParamInvalid");r.length>0&&(o.text=r)}Q={callback:t},s.postEvent("web_app_open_scan_qr_popup",!1,o)},i.closeScanQrPopup=function(){if(!m("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+_),Error("WebAppMethodUnsupported");Q=!1,s.postEvent("web_app_close_scan_qr_popup",!1)},i.readTextFromClipboard=function(e){if(!m("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+_),Error("WebAppMethodUnsupported");var t=Pe(16),r={req_id:t};M[t]={callback:e},s.postEvent("web_app_read_text_from_clipboard",!1,r)},i.requestWriteAccess=function(e){if(!m("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+_),Error("WebAppMethodUnsupported");if(re)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");re={callback:e},s.postEvent("web_app_request_write_access")},i.requestContact=function(e){if(!m("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+_),Error("WebAppMethodUnsupported");if(oe)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");oe={callback:e},s.postEvent("web_app_request_phone")},i.shareToStory=function(e,t){if(t=t||{},!m("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+_),Error("WebAppMethodUnsupported");var r=document.createElement("A");if(r.href=e,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var o={};if(o.media_url=r.href,typeof t.text<"u"){var n=b(t.text);if(n.length>2048)throw console.error("[Telegram.WebApp] Text is too long",n),Error("WebAppShareToStoryParamInvalid");n.length>0&&(o.text=n)}if(typeof t.widget_link<"u"){if(t.widget_link=t.widget_link||{},r.href=t.widget_link.url,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var d={url:r.href};if(typeof t.widget_link.name<"u"){var h=b(t.widget_link.name);if(h.length>48)throw console.error("[Telegram.WebApp] Link name is too long",h),Error("WebAppShareToStoryParamInvalid");h.length>0&&(d.name=h)}o.widget_link=d}s.postEvent("web_app_share_to_story",!1,o)},i.invokeCustomMethod=function(e,t,r){We(e,t,r)},i.ready=function(){s.postEvent("web_app_ready")},i.expand=function(){s.postEvent("web_app_expand")},i.close=function(e){e=e||{};var t={};m("7.6")&&e.return_back&&(t.return_back=!0),s.postEvent("web_app_close",!1,t)},window.Telegram.WebApp=i,_e(),we(),ye(),ge(),A.tgWebAppShowSettings&&Re.show(),window.addEventListener("resize",l),x&&document.addEventListener("click",c),s.onEvent("theme_changed",de),s.onEvent("viewport_changed",ue),s.onEvent("invoice_closed",st),s.onEvent("popup_closed",lt),s.onEvent("qr_text_received",pt),s.onEvent("scan_qr_popup_closed",ut),s.onEvent("clipboard_text_received",ct),s.onEvent("write_access_requested",ft),s.onEvent("phone_requested",bt),s.onEvent("custom_method_invoked",gt),s.postEvent("web_app_request_theme"),s.postEvent("web_app_request_viewport")})()),Ve}var Qe;function At(){if(Qe)return ae;Qe=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.WebApp=void 0,yt();var T=window;return ae.WebApp=T.Telegram.WebApp,ae}var Je;function Wt(){if(Je)return fe;Je=1,Object.defineProperty(fe,"__esModule",{value:!0});var T=At();return fe.default=T.WebApp,fe}var Fe=Wt();const Tt=_t(Fe),Pt=wt({__proto__:null,default:Tt},[Fe]);export{Tt as W,Pt as i};
